{"version":3,"file":"static/js/209.7eff8a6e.chunk.js","mappings":"kQACA,EAA0B,sBAA1B,EAAsF,wBAAtF,EAAqH,mBAArH,EAAuJ,2BAAvJ,EAA2L,qB,6CCQ5K,SAASA,IACtB,IAIQC,GAAYC,EAAAA,EAAAA,MAAZD,QAERE,GAA8CC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtDI,EAAeF,EAAA,GAAEG,EAAkBH,EAAA,GAC1CI,GAAwBL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACpBG,GAA0BT,EAAAA,EAAAA,UAAS,MAAKU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAjCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAkCb,EAAAA,EAAAA,WAAS,GAAMc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,IAE9BG,EAAAA,EAAAA,YAAU,WAOc,SAAAC,IAUrB,OAVqBA,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAtB,SAAAC,IAAA,IAAAC,EAAA,OAAAF,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEuB,OAFvBF,EAAAC,KAAA,EAEIR,GAAa,GAAMO,EAAAE,KAAA,GACAC,EAAAA,EAAAA,IAAgB7B,GAAS,KAAD,EAArCyB,EAAIC,EAAAI,KACVnB,EAAQc,GAAMC,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAEdX,EAASW,EAAAK,GAAGC,SAAS,QAED,OAFCN,EAAAC,KAAA,GAErBR,GAAa,GAAOO,EAAAO,OAAA,6BAAAP,EAAAQ,OAAA,GAAAV,EAAA,yBAEvBW,MAAA,KAAAC,UAAA,CAhBDrB,EAAS,MACJf,GAGK,WAEYqB,EAAAc,MAAC,KAADC,UAAA,CAFtBC,EAaF,GAAG,CAACrC,IAEJ,IAAMsC,GAAeC,EAAAA,EAAAA,UACnB,kBACE7B,EAAOA,EAAK8B,MAAK,SAACC,EAAMC,GAAI,OAAKA,EAAKC,WAAaF,EAAKE,UAAU,IAAI,EAAE,GAC1E,CAACjC,IAOH,OAAIQ,GACK0B,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAACC,MAAO5B,IAEpBJ,GACK8B,EAAAA,EAAAA,KAACG,EAAAA,EAAO,CAACC,MAAM,QAAQhB,QAASlB,IAEpCJ,GAASA,EAAKuC,QAOjBC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACER,EAAAA,EAAAA,KAAA,OAAKS,UAAWC,EAAYF,SACzBd,EACEiB,MAAM,EAAGjD,GAvDC,EAFH,IA0DPkD,KAAI,SAAAC,GAAG,OACNP,EAAAA,EAAAA,MAAA,OAAKG,UAAWC,EAASF,SAAA,EACvBR,EAAAA,EAAAA,KAAA,OAAKS,UAAWC,EAAiBF,UAC/BR,EAAAA,EAAAA,KAAA,OACES,UAAWC,EACXI,KAAKC,EAAAA,EAAAA,IAAYF,EAAIG,cACrBC,OAAO,OACPC,IAAKL,EAAIM,UAGbb,EAAAA,EAAAA,MAAA,OAAKG,UAAU,OAAMD,SAAA,EACnBR,EAAAA,EAAAA,KAAA,KAAGS,UAAU,UAASD,SAAEK,EAAIM,QAC5BnB,EAAAA,EAAAA,KAAA,KAAGS,UAAWC,EAAcF,SAAEK,EAAIO,iBAXPP,EAAIQ,UAa7B,MAGX3D,GAAmBI,EAAKuC,OA1EP,KA0EiCL,EAAAA,EAAAA,KAACsB,EAAAA,EAAQ,KAC1D5D,GAAmBI,EAAKuC,OA5Ed,KA6EVL,EAAAA,EAAAA,KAAA,OAAKS,UAAU,cAAaD,UAC1BR,EAAAA,EAAAA,KAAA,QAAMS,UAAU,UAAUc,QAzCZ,WACpB5D,GAAmB,EACrB,EAuCyD6C,SAAC,0BA7BtDR,EAAAA,EAAAA,KAACG,EAAAA,EAAO,CAACC,MAAM,OAAOhB,QAAQ,2CAoCpC,C,8FC9FA,EAAuB,sBAAvB,EAAuD,yBAAvD,EAAwF,uB,kBCG3Ee,EAAO,SAAAqB,IAAAC,EAAAA,EAAAA,GAAAtB,EAAAqB,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAxB,GAAA,SAAAA,IAAA,OAAAyB,EAAAA,EAAAA,GAAA,KAAAzB,GAAAuB,EAAAnC,MAAA,KAAAC,UAAA,CAejB,OAfiBqC,EAAAA,EAAAA,GAAA1B,EAAA,EAAA2B,IAAA,SAAAC,MASlB,WACE,MAAO,CACLC,MAAMhC,EAAAA,EAAAA,KAAA,OAAKS,UAAWC,EAASF,SAAEyB,KAAKC,MAAM9C,UAC5C+C,SAASnC,EAAAA,EAAAA,KAAA,OAAKS,UAAWC,EAAYF,SAAEyB,KAAKC,MAAM9C,UAClDlB,OAAO8B,EAAAA,EAAAA,KAAA,OAAKS,UAAWC,EAAUF,SAAEyB,KAAKC,MAAM9C,WAC9C6C,KAAKC,MAAM9B,MACf,KAACD,CAAA,CAfiB,CAASiC,EAAAA,WAAhBjC,EAKJkC,aAAe,CACpBjC,MAAO,U,0ECREkB,EAAW,WAItB,OACEtB,EAAAA,EAAAA,KAAA,OAAKS,UAAU,cAAaD,UAC1BR,EAAAA,EAAAA,KAAA,QAAMS,UAAU,UAAUc,QALP,WACrBe,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,UACtC,EAGsDjC,SAAC,sBAKzD,C,sLCXMkC,E,OAAcC,EAAAA,OAAa,CAC7BC,QAAS,gCACTC,QAAS,CACLC,OAAQ,mBACRC,cAAe,gOAIhB,SAAeC,IAAW,OAAAC,EAAA1D,MAAC,KAADC,UAAA,CAIhC,SAAAyD,IAAA,OAAAA,GAAAvE,EAAAA,EAAAA,GAAAC,IAAAA,MAJM,SAAAC,IAAA,IAAAsE,EAAA,OAAAvE,IAAAA,MAAA,SAAAG,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACoB0D,EAAYS,IAAI,sBAAsB,KAAD,EACtC,OADhBD,EAAQpE,EAAAI,KACdkE,QAAQC,IAAIH,GAAUpE,EAAAwE,OAAA,SACfJ,EAASrE,KAAK0E,SAAO,wBAAAzE,EAAAQ,OAAA,GAAAV,EAAA,MAC/BW,MAAA,KAAAC,UAAA,CAEM,SAAegE,EAAQC,EAAAC,GAAA,OAAAC,EAAApE,MAAC,KAADC,UAAA,CAU7B,SAAAmE,IAAA,OAAAA,GAAAjF,EAAAA,EAAAA,GAAAC,IAAAA,MAVM,SAAAiF,EAAwBC,EAAaC,GAAI,IAAAZ,EAAA,OAAAvE,IAAAA,MAAA,SAAAoF,GAAA,cAAAA,EAAAhF,KAAAgF,EAAA/E,MAAA,cAAA+E,EAAA/E,KAAA,EACrB0D,EAAYS,IAAI,eAAgB,CACnDa,OAAQ,CACJC,MAAOJ,EACPC,KAAAA,EACAI,QAAS,uBAEd,KAAD,EACoB,OAPhBhB,EAAQa,EAAA7E,KAOdkE,QAAQC,IAAIH,GAAUa,EAAAT,OAAA,SACfJ,EAASrE,KAAK0E,SAAO,wBAAAQ,EAAAzE,OAAA,GAAAsE,EAAA,MAC/BrE,MAAA,KAAAC,UAAA,CAEM,SAAe2E,EAAeC,GAAA,OAAAC,EAAA9E,MAAC,KAADC,UAAA,CAIpC,SAAA6E,IAAA,OAAAA,GAAA3F,EAAAA,EAAAA,GAAAC,IAAAA,MAJM,SAAA2F,EAA+BC,GAAE,IAAArB,EAAA,OAAAvE,IAAAA,MAAA,SAAA6F,GAAA,cAAAA,EAAAzF,KAAAyF,EAAAxF,MAAA,cAAAwF,EAAAxF,KAAA,EACb0D,EAAYS,IAAI,UAAYoB,GAAI,KAAD,EAChC,OADhBrB,EAAQsB,EAAAtF,KACdkE,QAAQC,IAAIH,GAAUsB,EAAAlB,OAAA,SACfJ,EAASrE,MAAI,wBAAA2F,EAAAlF,OAAA,GAAAgF,EAAA,MACvB/E,MAAA,KAAAC,UAAA,CAEM,SAAeP,EAAewF,GAAA,OAAAC,EAAAnF,MAAC,KAADC,UAAA,CAIpC,SAAAkF,IAAA,OAAAA,GAAAhG,EAAAA,EAAAA,GAAAC,IAAAA,MAJM,SAAAgG,EAA+BJ,GAAE,IAAArB,EAAA,OAAAvE,IAAAA,MAAA,SAAAiG,GAAA,cAAAA,EAAA7F,KAAA6F,EAAA5F,MAAA,cAAA4F,EAAA5F,KAAA,EACb0D,EAAYS,IAAI,UAAD0B,OAAWN,EAAE,aAAY,KAAD,EACxC,OADhBrB,EAAQ0B,EAAA1F,KACdkE,QAAQC,IAAIH,GAAU0B,EAAAtB,OAAA,SACfJ,EAASrE,KAAKf,MAAI,wBAAA8G,EAAAtF,OAAA,GAAAqF,EAAA,MAC5BpF,MAAA,KAAAC,UAAA,CAEM,SAAesF,EAAeC,GAAA,OAAAC,EAAAzF,MAAC,KAADC,UAAA,CAQpC,SAAAwF,IAAA,OAAAA,GAAAtG,EAAAA,EAAAA,GAAAC,IAAAA,MARM,SAAAsG,EAA+BV,GAAE,IAAArB,EAAA,OAAAvE,IAAAA,MAAA,SAAAuG,GAAA,cAAAA,EAAAnG,KAAAmG,EAAAlG,MAAA,cAAAkG,EAAAlG,KAAA,EACb0D,EAAYS,IAAI,UAAD0B,OAAWN,EAAE,YAAY,CAC3DP,OAAQ,CACJmB,SAAUZ,KAEf,KAAD,EACoB,OALhBrB,EAAQgC,EAAAhG,KAKdkE,QAAQC,IAAIH,GAAUgC,EAAA5B,OAAA,SACfJ,EAASrE,KAAK0E,SAAO,wBAAA2B,EAAA5F,OAAA,GAAA2F,EAAA,MAC/B1F,MAAA,KAAAC,UAAA,C,uGChDD,IAAM4F,EAAa,sDAKZ,SAASrE,EAAYsE,GACxB,MAAM,GAANR,OAAUO,GAAUP,OAAGQ,EAC3B,CAEO,SAASC,EAAeD,GAC3B,MAAM,GAANR,OAAUO,GAAUP,OAAGQ,EAAI,SAAAR,OATd,uDAS8BA,OAAGQ,EAAI,MACtD,CAEO,SAASE,IACZ,MAZiB,iDAarB,C","sources":["webpack://goit-react-woolf-hw-05-movies/./src/components/Cast/index.module.css?80a6","components/Cast/index.jsx","webpack://goit-react-woolf-hw-05-movies/./src/components/Message/index.module.css?5bbb","components/Message/index.jsx","components/ScrollUp/index.jsx","services/api.js","services/image.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviews\":\"Cast_reviews__4dYsw\",\"info\":\"Cast_info__u1S7w\",\"character\":\"Cast_character__5tW28\",\"cast\":\"Cast_cast__QTlGA\",\"imageWrapper\":\"Cast_imageWrapper__QdBQp\",\"poster\":\"Cast_poster__9Go+B\"};","import { useEffect, useState, useMemo } from 'react';\nimport { getMovieCredits } from '../../services/api';\nimport { useParams } from 'react-router-dom';\nimport css from './index.module.css';\nimport { getImageSrc } from 'services/image';\nimport Loader from '../Loader';\nimport { ScrollUp } from 'components/ScrollUp';\nimport { Message } from 'components/Message';\n\nexport default function Cast() {\n  const maxSize = 12;\n  const maxScrollSize = 24;\n  const unlimeted = -1;\n\n  const { movieId } = useParams();\n\n  const [showAllSelected, setShowAllSelected] = useState(false);\n  const [cast, setCast] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setError(null);\n    if (!movieId) {\n      return;\n    }\n    getData();\n\n    async function getData() {\n      try {\n        setIsLoading(true);\n        const data = await getMovieCredits(movieId);\n        setCast(data);\n      } catch (ex) {\n        setError(ex.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  }, [movieId]);\n\n  const memoizedData = useMemo(\n    () =>\n      cast ? cast.sort((act1, act2) => act2.popularity - act1.popularity) : [],\n    [cast]\n  );\n\n  const handleShowAll = () => {\n    setShowAllSelected(true);\n  };\n\n  if (isLoading) {\n    return <Loader hide={!isLoading} />;\n  }\n  if (error) {\n    return <Message level=\"error\" message={error} />;\n  }\n  if (!cast || !cast.length) {\n    return (\n      <Message level=\"info\" message=\"We don't have any casts for this movie.\" />\n    );\n  }\n\n  return (\n    <>\n      <div className={css.reviews}>\n        {memoizedData\n          .slice(0, showAllSelected ? unlimeted : maxSize) //works one time\n          .map(act => (\n            <div className={css.cast} key={act.credit_id}>\n              <div className={css.imageWrapper}>\n                <img\n                  className={css.poster}\n                  src={getImageSrc(act.profile_path)}\n                  height=\"60px\"\n                  alt={act.name}\n                ></img>\n              </div>\n              <div className=\"info\">\n                <p className=\"content\">{act.name}</p>\n                <p className={css.character}>{act.character}</p>\n              </div>\n            </div>\n          ))}\n      </div>\n      {showAllSelected && cast.length > maxScrollSize && <ScrollUp />}\n      {!showAllSelected && cast.length > maxSize && (\n        <div className=\"smallButton\">\n          <span className=\"content\" onClick={handleShowAll}>\n            show all ▼\n          </span>\n        </div>\n      )}\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"info\":\"Message_info__wv0Jn\",\"warning\":\"Message_warning__-C1KS\",\"error\":\"Message_error__Dd2nR\"};","import css from './index.module.css';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Message extends Component {\n  static propTypes = {\n    level: PropTypes.string,\n    message: PropTypes.string.isRequired,\n  };\n  static defaultProps = {\n    level: 'warning',\n  };\n\n  render() {\n    return {\n      info: <div className={css.info}>{this.props.message}</div>,\n      warning: <div className={css.warning}>{this.props.message}</div>,\n      error: <div className={css.error}>{this.props.message}</div>,\n    }[this.props.level];\n  }\n}\n","import React from 'react';\n\nexport const ScrollUp = () => {\n  const handleScrollUp = () => {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n  return (\n    <div className=\"smallButton\">\n      <span className=\"content\" onClick={handleScrollUp}>\n        scroll up ▲\n      </span>\n    </div>\n  );\n};\n","import axios from \"axios\";\n\nconst filmFetcher = axios.create({\n    baseURL: 'https://api.themoviedb.org/3/',\n    headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjZThjMTU4ZjgyYWIxNTYyZjFiZjZjNDU3OTU0M2M5MyIsInN1YiI6IjY2MzY3OTJkYzM5MjY2MDEyNjZlZTk5NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.E7cJeKzFI5ktXMflbsHwvvJwQAEggGTnSKeqO30xvww'\n    }\n});\n\nexport async function getTrending() {\n    const response = await filmFetcher.get('trending/movie/day');\n    console.log(response);\n    return response.data.results;\n}\n\nexport async function getMovie(searchValue, page) {\n    const response = await filmFetcher.get('search/movie', {\n        params: {\n            query: searchValue,\n            page,\n            sort_by: 'vote_average.desc'\n        }\n    });\n    console.log(response);\n    return response.data.results;;\n}\n\nexport async function getMovieDetails(id) {\n    const response = await filmFetcher.get('/movie/' + id);\n    console.log(response);\n    return response.data;\n}\n\nexport async function getMovieCredits(id) {\n    const response = await filmFetcher.get(`/movie/${id}/credits`);\n    console.log(response);\n    return response.data.cast;\n}\n\nexport async function getMovieReviews(id) {\n    const response = await filmFetcher.get(`/movie/${id}/reviews`, {\n        params: {\n            movie_id: id,\n        }\n    });\n    console.log(response);\n    return response.data.results;\n}","const smallImage = \"https://media.themoviedb.org/t/p/w220_and_h330_face\";\nconst bigImage = \"https://media.themoviedb.org/t/p/w440_and_h660_face\";\nconst defaultImage = \"https://placehold.co/220x330?text=Secret+Poster\";\n\n\nexport function getImageSrc(path) {\n    return `${smallImage}${path}`;\n}\n\nexport function getImageSrcSet(path) {\n    return `${smallImage}${path} 1x, ${bigImage}${path} 2x`;\n}\n\nexport function getDefaultImage() {\n    return defaultImage;\n}"],"names":["Cast","movieId","useParams","_useState","useState","_useState2","_slicedToArray","showAllSelected","setShowAllSelected","_useState3","_useState4","cast","setCast","_useState5","_useState6","error","setError","_useState7","_useState8","isLoading","setIsLoading","useEffect","_getData","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","getMovieCredits","sent","t0","message","finish","stop","apply","arguments","getData","memoizedData","useMemo","sort","act1","act2","popularity","_jsx","Loader","hide","Message","level","length","_jsxs","_Fragment","children","className","css","slice","map","act","src","getImageSrc","profile_path","height","alt","name","character","credit_id","ScrollUp","onClick","_Component","_inherits","_super","_createSuper","_classCallCheck","_createClass","key","value","info","this","props","warning","Component","defaultProps","window","scrollTo","top","behavior","filmFetcher","axios","baseURL","headers","accept","Authorization","getTrending","_getTrending","response","get","console","log","abrupt","results","getMovie","_x","_x2","_getMovie","_callee2","searchValue","page","_context2","params","query","sort_by","getMovieDetails","_x3","_getMovieDetails","_callee3","id","_context3","_x4","_getMovieCredits","_callee4","_context4","concat","getMovieReviews","_x5","_getMovieReviews","_callee5","_context5","movie_id","smallImage","path","getImageSrcSet","getDefaultImage"],"sourceRoot":""}