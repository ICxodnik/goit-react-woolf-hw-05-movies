{"version":3,"file":"static/js/220.bcce4dbd.chunk.js","mappings":"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","sources":["webpack://goit-react-woolf-hw-05-movies/./src/components/Reviews/index.module.css?639d","components/Reviews/index.jsx","services/api.js","services/image.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"poster\":\"Reviews_poster__KH4Iz\",\"imageWrapper\":\"Reviews_imageWrapper__vLIvy\",\"author\":\"Reviews_author__ZJLB8\",\"reviewHeader\":\"Reviews_reviewHeader__pAMIK\",\"reviews\":\"Reviews_reviews__Mf1cR\",\"review\":\"Reviews_review__AQuNC\"};","import { useEffect, useState } from 'react';\nimport { getMovieReviews } from '../../services/api';\nimport { useParams } from 'react-router-dom';\nimport css from './index.module.css';\nimport { getImageSrc } from 'services/image';\nimport Loader from '../Loader';\n\nexport default function Reviews() {\n  const { movieId } = useParams();\n\n  const [review, setReview] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setError(null);\n\n    if (!movieId) return;\n    getData();\n\n    async function getData() {\n      try {\n        setIsLoading(true);\n        const data = await getMovieReviews(movieId);\n        console.log(data);\n        setReview(data);\n      } catch (ex) {\n        setError(ex.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  }, [movieId]);\n\n  if (isLoading) {\n    return <Loader hide={!isLoading} />;\n  }\n  if (error) {\n    return <div className={css.reviews}>{error}</div>;\n  }\n  if (!review || !review.length) {\n    return (\n      <div className={css.reviews}>\n        We don't have any reviews for this movie.\n      </div>\n    );\n  }\n  return (\n    <div className={css.reviews}>\n      {review.map(rw => (\n        <div className={css.review} key={rw.id}>\n          <div className={css.reviewHeader}>\n            <div className={css.imageWrapper}>\n              <img\n                className={css.poster}\n                src={getImageSrc(rw.author_details.avatar_path)}\n                height=\"60px\"\n                alt={rw.author}\n              ></img>\n            </div>\n            <span className={css.author}>{rw.author}</span>\n          </div>\n          <span className=\"content\">{rw.content}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import axios from \"axios\";\n\nconst filmFetcher = axios.create({\n    baseURL: 'https://api.themoviedb.org/3/',\n    headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjZThjMTU4ZjgyYWIxNTYyZjFiZjZjNDU3OTU0M2M5MyIsInN1YiI6IjY2MzY3OTJkYzM5MjY2MDEyNjZlZTk5NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.E7cJeKzFI5ktXMflbsHwvvJwQAEggGTnSKeqO30xvww'\n    }\n});\n\nexport async function getTrending() {\n    const response = await filmFetcher.get('trending/movie/day');\n    console.log(response);\n    return response.data.results;\n}\n\nexport async function getMovie(searchValue, page) {\n    const response = await filmFetcher.get('search/movie', {\n        params: {\n            query: searchValue,\n            page,\n            sort_by: 'vote_average.desc'\n        }\n    });\n    console.log(response);\n    return response.data.results;;\n}\n\nexport async function getMovieDetails(id) {\n    const response = await filmFetcher.get('/movie/' + id);\n    console.log(response);\n    return response.data;\n}\n\nexport async function getMovieCredits(id) {\n    const response = await filmFetcher.get(`/movie/${id}/credits`);\n    console.log(response);\n    return response.data.cast;\n}\n\nexport async function getMovieReviews(id) {\n    const response = await filmFetcher.get(`/movie/${id}/reviews`, {\n        params: {\n            movie_id: id,\n        }\n    });\n    console.log(response);\n    return response.data.results;\n}","const smallImage = \"https://media.themoviedb.org/t/p/w220_and_h330_face\";\nconst bigImage = \"https://media.themoviedb.org/t/p/w440_and_h660_face\";\nconst defaultImage = \"https://placehold.co/220x330?text=Secret+Poster\";\n\n\nexport function getImageSrc(path) {\n    return `${smallImage}${path}`;\n}\n\nexport function getImageSrcSet(path) {\n    return `${smallImage}${path} 1x, ${bigImage}${path} 2x`;\n}\n\nexport function getDefaultImage() {\n    return defaultImage;\n}"],"names":["Reviews","movieId","useParams","_useState","useState","_useState2","_slicedToArray","review","setReview","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","useEffect","_getData","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","getMovieReviews","sent","console","log","t0","message","finish","stop","apply","arguments","getData","_jsx","Loader","hide","className","css","children","length","map","rw","_jsxs","src","getImageSrc","author_details","avatar_path","height","alt","author","content","id","filmFetcher","axios","baseURL","headers","accept","Authorization","getTrending","_getTrending","response","get","abrupt","results","getMovie","_x","_x2","_getMovie","_callee2","searchValue","page","_context2","params","query","sort_by","getMovieDetails","_x3","_getMovieDetails","_callee3","_context3","getMovieCredits","_x4","_getMovieCredits","_callee4","_context4","concat","cast","_x5","_getMovieReviews","_callee5","_context5","movie_id","smallImage","path","getImageSrcSet","getDefaultImage"],"sourceRoot":""}