{"version":3,"file":"static/js/378.bfe8afeb.chunk.js","mappings":"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","sources":["webpack://goit-react-woolf-hw-05-movies/./src/pages/MovieDetails/index.module.css?b0d6","pages/MovieDetails/index.jsx","services/api.js","services/image.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailsPage\":\"MovieDetails_detailsPage__D2G9O\",\"movie\":\"MovieDetails_movie__WCnmw\",\"movieInfo\":\"MovieDetails_movieInfo__3wDJQ\",\"generalInfo\":\"MovieDetails_generalInfo__fXo54\",\"additionalInfo\":\"MovieDetails_additionalInfo__QCHD0\",\"movieData\":\"MovieDetails_movieData__bPSMc\",\"title\":\"MovieDetails_title__qsj5T\",\"value\":\"MovieDetails_value__saYCD\",\"name\":\"MovieDetails_name__avOU7\",\"poster\":\"MovieDetails_poster__Yl7cc\",\"error\":\"MovieDetails_error__gpLA4\"};","import React, { Suspense, useEffect, useState } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { Link, NavLink, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from '../../services/api';\nimport { useParams } from 'react-router-dom';\nimport css from './index.module.css';\nimport { getImageSrc, getImageSrcSet, getDefaultImage } from 'services/image';\nimport Loader from '../../components/Loader';\n\nexport default function MovieDetails() {\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/movies';\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setError(null);\n\n    if (!movieId) return;\n    getData();\n\n    async function getData() {\n      try {\n        setIsLoading(true);\n        const moviData = await getMovieDetails(movieId);\n        setMovie(moviData);\n      } catch (ex) {\n        setError(ex.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  }, [movieId]);\n\n  return (\n    <div\n      className={css.detailsPage}\n      onError={evt => {\n        evt.target.src = getDefaultImage();\n        evt.target.srcset = '';\n      }}\n    >\n      <Link to={backLinkHref} className=\"button\">\n        ‚Üê Back to search\n      </Link>\n      <Loader hide={!isLoading} />\n      {error && <div className={css.error}>{error}</div>}\n      {movie && (\n        <div className={css.movie}>\n          <div className={css.movieData}>\n            <img\n              className={css.poster}\n              src={getImageSrc(movie.poster_path)}\n              srcSet={getImageSrcSet(movie.poster_path)}\n              alt={movie.title ?? movie.name}\n              height=\"600px\"\n            ></img>\n            <div className={css.movieInfo}>\n              <div className={css.generalInfo}>\n                <span className={css.name}>{movie.title ?? movie.name}</span>\n                <span className={css.title}>\n                  {movie.genres.map(g => g.name).join(', ')}\n                </span>\n              </div>\n              <div className={css.additionalInfo}>\n                <span className={css.title}>Rating:</span>\n                <span className={css.value}>\n                  {Math.ceil(movie.vote_average * 10)}%\n                </span>\n                <span className={css.title}>Release date:</span>\n                <span className={css.value}>{movie.release_date}</span>\n                <span className={css.title}>Status:</span>\n                <span className={css.value}>{movie.status}</span>\n                <span className={css.title}>Country:</span>\n                <span className={css.value}>{movie.origin_country[0]}</span>\n              </div>\n              <div className=\"buttons\">\n                <NavLink\n                  end\n                  to={`/movies/${movie.id}`}\n                  state={{ film: movie, from: backLinkHref }}\n                  className=\"button\"\n                >\n                  Overview\n                </NavLink>\n                <NavLink\n                  to={`/movies/${movie.id}/cast`}\n                  state={{ from: backLinkHref }}\n                  className=\"button\"\n                >\n                  Cast\n                </NavLink>\n\n                <NavLink\n                  to={`/movies/${movie.id}/reviews`}\n                  state={{ from: backLinkHref }}\n                  className=\"button\"\n                >\n                  Reviews\n                </NavLink>\n              </div>\n              <Suspense fallback={<Loader hide={false} />}>\n                <Outlet />\n              </Suspense>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import axios from \"axios\";\n\nconst filmFetcher = axios.create({\n    baseURL: 'https://api.themoviedb.org/3/',\n    headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjZThjMTU4ZjgyYWIxNTYyZjFiZjZjNDU3OTU0M2M5MyIsInN1YiI6IjY2MzY3OTJkYzM5MjY2MDEyNjZlZTk5NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.E7cJeKzFI5ktXMflbsHwvvJwQAEggGTnSKeqO30xvww'\n    }\n});\n\nexport async function getTrending() {\n    const response = await filmFetcher.get('trending/movie/day');\n    console.log(response);\n    return response.data.results;\n}\n\nexport async function getMovie(searchValue, page) {\n    const response = await filmFetcher.get('search/movie', {\n        params: {\n            query: searchValue,\n            page,\n            sort_by: 'vote_average.desc'\n        }\n    });\n    console.log(response);\n    return response.data.results;;\n}\n\nexport async function getMovieDetails(id) {\n    const response = await filmFetcher.get('/movie/' + id);\n    console.log(response);\n    return response.data;\n}\n\nexport async function getMovieCredits(id) {\n    const response = await filmFetcher.get(`/movie/${id}/credits`);\n    console.log(response);\n    return response.data.cast;\n}\n\nexport async function getMovieReviews(id) {\n    const response = await filmFetcher.get(`/movie/${id}/reviews`, {\n        params: {\n            movie_id: id,\n        }\n    });\n    console.log(response);\n    return response.data.results;\n}","const smallImage = \"https://media.themoviedb.org/t/p/w220_and_h330_face\";\nconst bigImage = \"https://media.themoviedb.org/t/p/w440_and_h660_face\";\nconst defaultImage = \"https://placehold.co/220x330?text=Secret+Poster\";\n\n\nexport function getImageSrc(path) {\n    return `${smallImage}${path}`;\n}\n\nexport function getImageSrcSet(path) {\n    return `${smallImage}${path} 1x, ${bigImage}${path} 2x`;\n}\n\nexport function getDefaultImage() {\n    return defaultImage;\n}"],"names":["MovieDetails","_location$state$from","_location$state","_movie$title","_movie$title2","movieId","useParams","backLinkHref","useLocation","state","from","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","movie","setMovie","_useState5","_useState6","error","setError","useEffect","_getData","_asyncToGenerator","_regeneratorRuntime","_callee","moviData","_context","prev","next","getMovieDetails","sent","t0","message","finish","stop","apply","arguments","getData","_jsxs","className","css","onError","evt","target","src","getDefaultImage","srcset","children","_jsx","Link","to","Loader","hide","getImageSrc","poster_path","srcSet","getImageSrcSet","alt","title","name","height","genres","map","g","join","Math","ceil","vote_average","release_date","status","origin_country","NavLink","end","concat","id","film","Suspense","fallback","Outlet","filmFetcher","axios","baseURL","headers","accept","Authorization","getTrending","_getTrending","response","get","console","log","abrupt","data","results","getMovie","_x","_x2","_getMovie","_callee2","searchValue","page","_context2","params","query","sort_by","_x3","_getMovieDetails","_callee3","_context3","getMovieCredits","_x4","_getMovieCredits","_callee4","_context4","cast","getMovieReviews","_x5","_getMovieReviews","_callee5","_context5","movie_id","smallImage","path"],"sourceRoot":""}